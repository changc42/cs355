<!DOCTYPE html>
<!-- saved from url=(0099)https://venus.cs.qc.cuny.edu/~rlaw/cs355/assignment/04-album-artist-finder/album-artist-finder.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width initial-scale=1">
<title>album-artist-finder</title><link href="./a4_description_files/css" rel="stylesheet" type="text/css"><style type="text/css">html {overflow-x: initial !important;}:root { --bg-color:#ffffff; --text-color:#333333; --select-text-bg-color:#B5D6FC; --select-text-font-color:auto; --monospace:"Lucida Console",Consolas,"Courier",monospace; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
body { margin: 0px; padding: 0px; height: auto; bottom: 0px; top: 0px; left: 0px; right: 0px; font-size: 1rem; line-height: 1.42857; overflow-x: hidden; background: inherit; tab-size: 4; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; overflow-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 40px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
@media screen and (max-width: 500px) {
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
  .CodeMirror-sizer { margin-left: 0px !important; }
  .CodeMirror-gutters { display: none !important; }
}
#write li > figure:last-child { margin-bottom: 0.5rem; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; }
button, input, select, textarea { color: inherit; font: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }
p { line-height: inherit; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 2; }
p { orphans: 4; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px !important; }
tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right: 0px; background-color: inherit; }
.CodeMirror-linenumber { user-select: none; }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: inherit; position: relative !important; }
.md-diagram-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: 0px 0px; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; -webkit-tap-highlight-color: transparent; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print {
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; }
  #write { margin-top: 0px; padding-top: 0px; border-color: transparent !important; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  html.blink-to-pdf { font-size: 13px; }
  .typora-export #write { padding-left: 32px; padding-right: 32px; padding-bottom: 0px; break-after: avoid; }
  .typora-export #write::after { height: 0px; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
[contenteditable="true"]:active, [contenteditable="true"]:focus, [contenteditable="false"]:active, [contenteditable="false"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: none; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) {
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.8; font-family: var(--monospace); }
code { text-align: left; vertical-align: initial; }
a.md-print-anchor { white-space: pre !important; border-width: initial !important; border-style: none !important; border-color: initial !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; background: 0px 0px !important; text-decoration: initial !important; text-shadow: initial !important; }
.md-inline-math .MathJax_SVG .noError { display: none !important; }
.html-for-mac .inline-math-svg .MathJax_SVG { vertical-align: 0.2px; }
.md-math-block .MathJax_SVG_Display { text-align: center; margin: 0px; position: relative; text-indent: 0px; max-width: none; max-height: none; min-height: 0px; min-width: 100%; width: auto; overflow-y: hidden; display: block !important; }
.MathJax_SVG_Display, .md-inline-math .MathJax_SVG_Display { width: auto; margin: inherit; display: inline-block !important; }
.MathJax_SVG .MJX-monospace { font-family: var(--monospace); }
.MathJax_SVG .MJX-sans-serif { font-family: sans-serif; }
.MathJax_SVG { display: inline; font-style: normal; font-weight: 400; line-height: normal; zoom: 90%; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; overflow-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; }
.MathJax_SVG * { transition: none 0s ease 0s; }
.MathJax_SVG_Display svg { vertical-align: middle !important; margin-bottom: 0px !important; margin-top: 0px !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="flow"] svg, [lang="mermaid"] svg { max-width: 100%; height: auto; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom: 0px; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: none; }
.highlight td, .highlight tr { border: 0px; }
svg[id^="mermaidChart"] { line-height: 1em; }
mark { background: rgb(255, 255, 0); color: rgb(0, 0, 0); }
.md-html-inline .md-plain, .md-html-inline strong, mark .md-inline-math, mark strong { color: inherit; }
mark .md-meta { color: rgb(0, 0, 0); opacity: 0.3 !important; }


.CodeMirror { height: auto; }
.CodeMirror.cm-s-inner { background: inherit; }
.CodeMirror-scroll { overflow: auto hidden; z-index: 3; }
.CodeMirror-gutter-filler, .CodeMirror-scrollbar-filler { background-color: rgb(255, 255, 255); }
.CodeMirror-gutters { border-right: 1px solid rgb(221, 221, 221); background: inherit; white-space: nowrap; }
.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }
.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }
.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }
.cm-s-inner .cm-number { color: rgb(17, 102, 68); }
.cm-s-inner .cm-def { color: rgb(0, 0, 255); }
.cm-s-inner .cm-variable { color: rgb(0, 0, 0); }
.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }
.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }
.cm-s-inner .cm-string { color: rgb(170, 17, 17); }
.cm-s-inner .cm-property { color: rgb(0, 0, 0); }
.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }
.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }
.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }
.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }
.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }
.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }
.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }
.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }
.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }
.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: rgb(0, 0, 255); }
.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }
.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }
.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }
.cm-negative { color: rgb(221, 68, 68); }
.cm-positive { color: rgb(34, 153, 34); }
.cm-header, .cm-strong { font-weight: 700; }
.cm-del { text-decoration: line-through; }
.cm-em { font-style: italic; }
.cm-link { text-decoration: underline; }
.cm-error { color: red; }
.cm-invalidchar { color: red; }
.cm-constant { color: rgb(38, 139, 210); }
.cm-defined { color: rgb(181, 137, 0); }
div.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }
div.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }
.cm-s-inner .CodeMirror-activeline-background { background: inherit; }
.CodeMirror { position: relative; overflow: hidden; }
.CodeMirror-scroll { height: 100%; outline: 0px; position: relative; box-sizing: content-box; background: inherit; }
.CodeMirror-sizer { position: relative; }
.CodeMirror-gutter-filler, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-vscrollbar { position: absolute; z-index: 6; display: none; }
.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow: hidden; }
.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow: hidden; }
.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }
.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }
.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 30px; z-index: 3; }
.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }
.CodeMirror-gutter-wrapper { position: absolute; z-index: 4; background: 0px 0px !important; border: none !important; }
.CodeMirror-gutter-background { position: absolute; top: 0px; bottom: 0px; z-index: 4; }
.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }
.CodeMirror-lines { cursor: text; }
.CodeMirror pre { border-radius: 0px; border-width: 0px; background: 0px 0px; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; overflow-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; }
.CodeMirror-wrap pre { overflow-wrap: break-word; white-space: pre-wrap; word-break: normal; }
.CodeMirror-code pre { border-right: 30px solid transparent; width: fit-content; }
.CodeMirror-wrap .CodeMirror-code pre { border-right: none; width: auto; }
.CodeMirror-linebackground { position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; z-index: 0; }
.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }
.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }
.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }
.CodeMirror-measure pre { position: static; }
.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right: none; width: 0px; }
.CodeMirror div.CodeMirror-cursor { visibility: hidden; }
.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }
.cm-searching { background: rgba(255, 255, 0, 0.4); }
@media print {
  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }
}


:root {
    --side-bar-bg-color: #fafafa;
    --control-text-color: #777;
}

@include-when-export url(https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext);

html {
    font-size: 16px;
}

body {
    font-family: "Open Sans","Clear Sans","Helvetica Neue",Helvetica,Arial,sans-serif;
    color: rgb(51, 51, 51);
    line-height: 1.6;
}

#write {
    max-width: 860px;
  	margin: 0 auto;
  	padding: 30px;
    padding-bottom: 100px;
}
#write > ul:first-child,
#write > ol:first-child{
    margin-top: 30px;
}

a {
    color: #4183C4;
}
h1,
h2,
h3,
h4,
h5,
h6 {
    position: relative;
    margin-top: 1rem;
    margin-bottom: 1rem;
    font-weight: bold;
    line-height: 1.4;
    cursor: text;
}
h1:hover a.anchor,
h2:hover a.anchor,
h3:hover a.anchor,
h4:hover a.anchor,
h5:hover a.anchor,
h6:hover a.anchor {
    text-decoration: none;
}
h1 tt,
h1 code {
    font-size: inherit;
}
h2 tt,
h2 code {
    font-size: inherit;
}
h3 tt,
h3 code {
    font-size: inherit;
}
h4 tt,
h4 code {
    font-size: inherit;
}
h5 tt,
h5 code {
    font-size: inherit;
}
h6 tt,
h6 code {
    font-size: inherit;
}
h1 {
    padding-bottom: .3em;
    font-size: 2.25em;
    line-height: 1.2;
    border-bottom: 1px solid #eee;
}
h2 {
   padding-bottom: .3em;
    font-size: 1.75em;
    line-height: 1.225;
    border-bottom: 1px solid #eee;
}
h3 {
    font-size: 1.5em;
    line-height: 1.43;
}
h4 {
    font-size: 1.25em;
}
h5 {
    font-size: 1em;
}
h6 {
   font-size: 1em;
    color: #777;
}
p,
blockquote,
ul,
ol,
dl,
table{
    margin: 0.8em 0;
}
li>ol,
li>ul {
    margin: 0 0;
}
hr {
    height: 2px;
    padding: 0;
    margin: 16px 0;
    background-color: #e7e7e7;
    border: 0 none;
    overflow: hidden;
    box-sizing: content-box;
}

li p.first {
    display: inline-block;
}
ul,
ol {
    padding-left: 30px;
}
ul:first-child,
ol:first-child {
    margin-top: 0;
}
ul:last-child,
ol:last-child {
    margin-bottom: 0;
}
blockquote {
    border-left: 4px solid #dfe2e5;
    padding: 0 15px;
    color: #777777;
}
blockquote blockquote {
    padding-right: 0;
}
table {
    padding: 0;
    word-break: initial;
}
table tr {
    border-top: 1px solid #dfe2e5;
    margin: 0;
    padding: 0;
}
table tr:nth-child(2n),
thead {
    background-color: #f8f8f8;
}
table tr th {
    font-weight: bold;
    border: 1px solid #dfe2e5;
    border-bottom: 0;
    margin: 0;
    padding: 6px 13px;
}
table tr td {
    border: 1px solid #dfe2e5;
    margin: 0;
    padding: 6px 13px;
}
table tr th:first-child,
table tr td:first-child {
    margin-top: 0;
}
table tr th:last-child,
table tr td:last-child {
    margin-bottom: 0;
}

.CodeMirror-lines {
    padding-left: 4px;
}

.code-tooltip {
    box-shadow: 0 1px 1px 0 rgba(0,28,36,.3);
    border-top: 1px solid #eef2f2;
}

.md-fences,
code,
tt {
    border: 1px solid #e7eaed;
    background-color: #f8f8f8;
    border-radius: 3px;
    padding: 0;
    padding: 2px 4px 0px 4px;
    font-size: 0.9em;
}

code {
    background-color: #f3f4f4;
    padding: 0 2px 0 2px;
}

.md-fences {
    margin-bottom: 15px;
    margin-top: 15px;
    padding-top: 8px;
    padding-bottom: 6px;
}


.md-task-list-item > input {
  margin-left: -1.3em;
}

@media print {
    html {
        font-size: 13px;
    }
    table,
    pre {
        page-break-inside: avoid;
    }
    pre {
        word-wrap: break-word;
    }
}

.md-fences {
	background-color: #f8f8f8;
}
#write pre.md-meta-block {
	padding: 1rem;
    font-size: 85%;
    line-height: 1.45;
    background-color: #f7f7f7;
    border: 0;
    border-radius: 3px;
    color: #777777;
    margin-top: 0 !important;
}

.mathjax-block>.code-tooltip {
	bottom: .375rem;
}

.md-mathjax-midline {
    background: #fafafa;
}

#write>h3.md-focus:before{
	left: -1.5625rem;
	top: .375rem;
}
#write>h4.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h5.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h6.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
.md-image>.md-meta {
    /*border: 1px solid #ddd;*/
    border-radius: 3px;
    padding: 2px 0px 0px 4px;
    font-size: 0.9em;
    color: inherit;
}

.md-tag {
    color: #a7a7a7;
    opacity: 1;
}

.md-toc { 
    margin-top:20px;
    padding-bottom:20px;
}

.sidebar-tabs {
    border-bottom: none;
}

#typora-quick-open {
    border: 1px solid #ddd;
    background-color: #f8f8f8;
}

#typora-quick-open-item {
    background-color: #FAFAFA;
    border-color: #FEFEFE #e5e5e5 #e5e5e5 #eee;
    border-style: solid;
    border-width: 1px;
}

/** focus mode */
.on-focus-mode blockquote {
    border-left-color: rgba(85, 85, 85, 0.12);
}

header, .context-menu, .megamenu-content, footer{
    font-family: "Segoe UI", "Arial", sans-serif;
}

.file-node-content:hover .file-node-icon,
.file-node-content:hover .file-node-open-state{
    visibility: visible;
}

.mac-seamless-mode #typora-sidebar {
    background-color: #fafafa;
    background-color: var(--side-bar-bg-color);
}

.md-lang {
    color: #b4654d;
}

.html-for-mac .context-menu {
    --item-hover-bg-color: #E6F0FE;
}

#md-notification .btn {
    border: 0;
}

.dropdown-menu .divider {
    border-color: #e5e5e5;
}

.ty-preferences .window-content {
    background-color: #fafafa;
}

.ty-preferences .nav-group-item.active {
    color: white;
    background: #999;
}


</style>
</head>
<body class="typora-export os-windows">
<div id="write" class="is-node"><h1><a name="assignment-04-album-art-finder" class="md-header-anchor"></a><span>Assignment 04: Album Art Finder</span></h1><p><img src="./a4_description_files/top-2.gif" referrerpolicy="no-referrer" alt="top-2.gif"></p><p>&nbsp;</p><h2><a name="assignment-goals" class="md-header-anchor"></a><span>Assignment Goals</span></h2><ul><li><p><span>Creating a HTTP Server with Node.js</span></p></li><li><p><span>Parsing URLs and Query Strings</span></p></li><li><p><span>Creating HTTP Requests and processing HTTP Responses</span></p></li><li><p><span>REST APIs</span></p><ul><li><span>How do websites that offer a REST API manage requests?</span></li><li><span>Authentication</span></li><li><span>Request Types</span></li></ul></li><li><p><span>Caching</span></p></li><li><p><span>Callbacks</span></p><ul><li><span>Callback Hell</span></li></ul></li></ul><p>&nbsp;</p><h2><a name="required-files" class="md-header-anchor"></a><span>Required Files</span></h2><p><a href="https://venus.cs.qc.cuny.edu/~rlaw/cs355/assignment/04-album-artist-finder/resources/04-album-art-finder.zip"><span>04-album-art-finder.zip</span></a></p><p><span>Download and extract the template files, </span>
<span>Then rename the directory </span><code>A04-########</code><span> replacing </span><code>########</code><span> with your Student ID</span></p><p>&nbsp;</p><h2><a name="software-library-restrictions" class="md-header-anchor"></a><span>Software Library Restrictions</span></h2><p><span>One of the goal of this assignment is to familiarize students with buffers, streams, asynchronous programming and, the base Node.js language.</span></p><p><span>Specifically for this assignment you only need the following built in libraries.</span></p><ul><li><a href="https://nodejs.org/api/http.html" target="_blank" class="url">https://nodejs.org/api/http.html</a><span> - HTTP to serve websites to others</span></li><li><a href="https://nodejs.org/api/https.html" target="_blank" class="url">https://nodejs.org/api/https.html</a><span> - HTTPS to fetch data from API's</span></li><li><a href="https://nodejs.org/api/fs.html" target="_blank" class="url">https://nodejs.org/api/fs.html</a><span> - IO</span></li><li><a href="https://nodejs.org/api/url.html" target="_blank" class="url">https://nodejs.org/api/url.html</a><span> - Break up a URL into it's components</span></li><li><a href="https://nodejs.org/api/querystring.html" target="_blank" class="url">https://nodejs.org/api/querystring.html</a><span> - Conversion of Query String to Object</span></li></ul><p><span>Students are restricted from using NPM libraries (npmjs.com) as they abstract away many difficulties that this assignment is training you to identify.  (Similar to how in CS111 you are prevented from using the </span><code>#include &lt;vector&gt;</code><span> library)</span></p><p><span>Students will receive no credit for submissions that use npm libraries, so be careful as many solutions online for subtasks will utilize these libraries.  </span></p><p><span>Some popular libraries that are </span><strong><span>banned</span></strong><span> from this assignment</span></p><ul><li><span>request </span><a href="https://www.npmjs.com/package/request" target="_blank" class="url">https://www.npmjs.com/package/request</a></li><li><span>express </span><a href="https://www.npmjs.com/package/express" target="_blank" class="url">https://www.npmjs.com/package/express</a></li></ul><blockquote><p><span>If the library is available on nodejs.org you can use it, if it's on the npmjs.com website it's barred from this assignment.</span></p></blockquote><p><span>StackOverflow usage is permitted in a read-only fashion for subtasks (Do not ask questions on the platform, instead direct all questions to me)  Many examples use banned third party packages so be careful not to use those answers.</span></p><p>&nbsp;</p><h2><a name="http-debugger" class="md-header-anchor"></a><span>HTTP Debugger</span></h2><p><a href="https://insomnia.rest/" target="_blank" class="url">https://insomnia.rest/</a></p><p><span>This tool is not required, but it makes debugging HTTP requests much simpler than doing it from within Node.js  You can isolate malformed requests from within a HTTP debugger instead of debugging directly which could possibly also have syntax errors.</span></p><p>&nbsp;</p><h2><a name="grading" class="md-header-anchor"></a><span>Grading</span></h2><ul><li><span>Runtime Error : 0%</span></li><li><span>Uses npm library: 0%</span></li></ul><h3><a name="milestones" class="md-header-anchor"></a><span>Milestones</span></h3><ul><li><span>Getting </span><code>access_token</code><span>: 35%</span></li><li><span>Getting Spotify Album Object: +20%</span></li><li><span>Working Webpage: +15%</span></li></ul><h3><a name="additional-analysis" class="md-header-anchor"></a><span>Additional Analysis</span></h3><ul><li><p><span>Cache Access Token: +5%</span></p></li><li><p><span>Cache Images: +10%</span></p></li><li><p><span>Sequence Diagrams: +10%</span></p></li><li><p><span>Improvements: +5%</span></p><ul><li><span>Bonus Points for Implementation: +10%</span></li></ul></li></ul><p>&nbsp;</p><h2><a name="create-a-server" class="md-header-anchor"></a><span>Create a Server</span></h2><p><code>http.createServer</code><span> has a callback that creates two variables request (</span><code>req</code><span>) and response (</span><code>res</code><span>).  </span></p><p><span>Request is of type </span><code>http.IncomingMessage</code><span> which extends the ReadableStream</span></p><p><a href="https://nodejs.org/api/http.html#http_class_http_incomingmessage" target="_blank" class="url">https://nodejs.org/api/http.html#http_class_http_incomingmessage</a></p><p><span>Response is of type </span><code>http.ServerResponse</code><span> which technically extends Stream, but we can treat it as a WritableStream with additional methods, as for our purposes all the events and methods that we used previously, are still available. </span></p><p><a href="https://nodejs.org/api/http.html#http_class_http_serverresponse" target="_blank" class="url">https://nodejs.org/api/http.html#http_class_http_serverresponse</a></p><p><span>This is in contrast to TCP streams which gave us a single duplex stream on connection.</span></p><p>&nbsp;</p><ol start=""><li><p><span>Open </span><code>index.js</code></p></li><li><p><span>Create an HTTP server, add the following code to create an HTTP server.</span></p><p><img src="./a4_description_files/001edit.PNG" referrerpolicy="no-referrer" alt="001edit"></p></li><li><p><span>Start the server by running the command </span><code>node index.js</code><span> in the node command prompt</span></p></li><li><p><span>Open a browser and in the address bar visit </span><code>localhost:3000</code><span> to ensure your server is running.  You should see two requests in the command prompt and the message Hello World in your browser.  If you don't see the request for favicon.ico press </span><code>CTRL+F5</code><span> to perform a hard refresh (ignore cache)</span></p><p>&nbsp;</p><p><img src="./a4_description_files/002edit.PNG" referrerpolicy="no-referrer" alt="002edit"></p></li><li><p><span>Change the code to print your name instead of Hello World.</span></p><p><span>(Kill the server by pressing </span><code>CTRL + C</code><span> from within the node command prompt.)</span></p></li><li><p><strong><span>Remember to restart the server after each change in your code</span></strong></p></li></ol><p>&nbsp;</p><h2><a name="routing" class="md-header-anchor"></a><span>Routing</span></h2><p><code>req.url</code><span> represents the path the client requested.  </span><code>req.url</code><span> removes the domain information from the url to focus on the path portion.  While the server is running type into your browser.</span></p><p><code>localhost:3000/does-not-exist</code></p><p><span>You should get back the same result as the server is configured to </span><code>res.write()</code><span> to send the exact same message back for every request it receives.  Using </span><code>if/else statements</code><span> we will parse six different types of requests:</span></p><ol start=""><li><span>A request for the root directory of our site: </span><code>/</code></li><li><span>A request for a favicon image that matches </span><code>/favicon.ico</code></li><li><span>A request for a banner image that matches </span><code>/images/banner.jpg</code></li><li><span>A request for an asset inside a directory </span><code>/album-art/</code><span> for example </span></li></ol><p><span>   </span><code>/album-art/5c3cf2ee3494e2da71dcf26303202ec491b26213.jpg</code></p><ol start="5"><li><span>A request for a page </span><code>/search</code><span> which can contain query strings like </span></li></ol><p><span>   </span><code>/search?artist="Taylor Swift"</code></p><ol start="6"><li><span>A catch all request for anything else</span></li></ol><p>&nbsp;</p><p><span>Deliver content using pairs of </span><code>res.write()</code><span> followed by  </span><code>res.end()</code><span> (removing the previous pair that printed your name)</span></p><p><span>For the first three you can use a simple comparison (eg. </span><code>req.url === '/'</code><span> )</span></p><p><span>For the next two use </span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith"><code>String.prototype.startsWith()</code></a></p><p><span>For the webpage requests deliver the text </span><code>REPLACE WITH HOME</code><span>, </span><code>REPLACE WITH SEARCH</code><span>, and </span><code>REPLACE WITH CATCHALL</code><span>  for now.</span></p><p><span>For the favicon and images requests deliver the text </span><code>REPLACE WITH FAVICON</code><span> and  </span><code>REPLACE WITH IMAGE</code><span> for now.</span></p><p><span>Use a browser to test each requests by copying each of the examples above and appending it to the end of </span><code>localhost:3000</code><span>, you should have different responses depending on the URL.  The image paths will display errors because of the browser guessing incorrectly the MIME type based on the extension, but we will fix it soon.</span></p><p>&nbsp;</p><h3><a name="-root" class="md-header-anchor"></a><span>/ (root)</span></h3><ol start=""><li><p><span>Open </span><code>html/main.html</code><span> in a text editor and add the following</span></p><p><img src="./a4_description_files/003edit.PNG" referrerpolicy="no-referrer" alt="003edit"></p><p><span>This creates an HTML form that accepts a single input </span><code>artist</code><span> from the end user sends the data to the url </span><code>/search</code></p></li></ol><p>&nbsp;</p><ol start=""><li><p><span>We want to serve this file to any clients who visit the root of our site. </span></p></li><li><p><span>For the route </span><code>/</code><span> replace the existing code with the following:</span></p><p><img src="./a4_description_files/004edit.PNG" referrerpolicy="no-referrer" alt="004edit"></p></li><li><p><span>This opens a ReadStream to the html file.</span></p></li><li><p><span>We then pipe the file </span><code>main.html</code><span> to the client as our response.  Pipe by default will close the response once the stream is finished so there is no need for </span><code>res.end()</code></p></li><li><p><a href="https://nodejs.org/api/http.html#http_response_writehead_statuscode_statusmessage_headers"><code>res.writeHead()</code></a><span> is used to supply header information to the browser which tells it how to interpret the data being sent (as the filename is not transmitted when sending a stream of data)  </span></p><p><span>If left out, the browser will try it's best to figure out how to interpret the data, but its better to be explicit.</span></p><p><span>In this example we are supplying it two parameters </span></p><p><code>statusCode</code><span> which represents a general category of how the request was handled.</span></p><p><span>200 or </span><code>OK</code><span> is the most common status code, signaling the request was successfully completed.</span></p><p><span>The second parameter is the Response </span><code>headers</code><span> object which is used for a variety of purposes including specify the document type, length, encoding, compression, expiration (how long can it keep this resource cached), and other meta information regarding how the browser should interpret the data transmitted.</span></p><p><a href="https://developer.mozilla.org/en-US/docs/Glossary/Response_header" target="_blank" class="url">https://developer.mozilla.org/en-US/docs/Glossary/Response_header</a></p><p><span>This object can have many components, but our example only has one, the Content Type.  Content type  elaborates on how a given file should be interpreted, the specific values that browsers understand is maintained by IANA called the MIME type.</span></p><p><a href="https://en.wikipedia.org/wiki/Media_type" target="_blank" class="url">https://en.wikipedia.org/wiki/Media_type</a></p><p><span>You don't need to memorize these values.  Typically when I need to lookup the MIME type, a quick web search will get the results.  For example a quick search for </span><code>MIME type .mp3</code><span> will yield </span><code>audio/mpeg</code><span>.</span></p><p><code>res.writeHead()</code><span> method must be called before any data is transmitted. (Call it before any calls to </span><code>pipe()</code><span>, </span><code>write()</code><span>, or </span><code>end()</code><span>)</span></p><p>&nbsp;</p><p>&nbsp;</p></li></ol><h3><a name="faviconico" class="md-header-anchor"></a><span>/favicon.ico</span></h3><p><span>When visited browsers will automatically request a favicon asset when you visit a site, if you send back a </span><code>.ico</code><span> file it will display it in the top corner of the browser tab representing the site icon.  </span></p><blockquote><p><span>There are a few clever hacks done with this like notifications (Gmail unread count), counters (Google Calendar dynamic date), and recently a full game</span></p><p><a href="http://www.p01.org/defender_of_the_favicon/" target="_blank" class="url">http://www.p01.org/defender_of_the_favicon/</a></p></blockquote><ol start=""><li><span>Using </span><code>fs.createReadStream()</code><span> create a file stream for the file </span><code>images/favicon.ico</code></li><li><span>Content type is </span><code>'image/x-icon'</code></li><li><span>Pipe the contents to the response.</span></li><li><span>Navigate to </span><code>localhost:3000/favicon.ico</code><span>, you should see the image</span></li><li><span>Navigate to </span><code>localhost:3000/index.html</code><span>, you should see the image in the top corner of your tab.</span></li></ol><p>&nbsp;</p><h3><a name="imagesbannerjpg" class="md-header-anchor"></a><span>/images/banner.jpg</span></h3><p><span>After the browser downloads the file </span><code>html/main.html</code><span> it will automatically begin parsing the document, when it encounters an embed resource </span><code>&lt;img src="/images/banner.jpg" alt="Album Artist Search" /&gt;</code><span>  The browser will make a secondary request to the server for this resource.  This is why sometimes you may sometimes see partially loaded websites, the browser is still downloading certain embedded resources.</span></p><p><span>It will do this for all embedded resources like stylesheets, scripts, images, audio, and video.  Hyperlinks however are not downloaded and only get requested when the user clicks on them.  (A web page could have hundreds of links to large files, it only makes sense to download those resources if the user clicks on the link)</span></p><p><span>Right now the request is being made we can see that by navigating to </span><code>localhost:3000/</code><span> in a browser, toggling the web inspector tools </span><code>CTRL + SHIFT + I</code><span>, and performing a hard refresh </span><code>CTRL + F5</code></p><p><img src="./a4_description_files/005edit.PNG" referrerpolicy="no-referrer" alt="005edit"></p><p><span>You should see requests for </span><code>banner.jpg</code><span>, this request is successful, but it is not actually delivering the image.</span></p><p>&nbsp;</p><ol start=""><li><span>Using </span><code>fs.createReadStream()</code><span> create a file stream for the file </span><code>images/banner.jpg</code></li><li><span>Using Content type is </span><code>'image/jpeg'</code></li><li><span>Pipe the contents to the response.</span></li><li><span>Restart the server and navigate to </span><code>localhost:3000/</code><span> you should see the banner image.</span></li></ol><p>&nbsp;</p><p><img src="./a4_description_files/006edit.PNG" referrerpolicy="no-referrer" alt="006edit"></p><p><span>We can look a bit more in-depth at how each of the resources arrive in your browser by clicking through each request and going to the Timings tab.  Started time gives us a relative time value for when a particular request was sent out from your browser.  Notice </span><code>favicon.ico</code><span> starts downloading substantially later than </span><code>banner.jpg</code><span>.  Most browsers deprioritize favicon requests and will request them after everything else on the page has been downloaded and executed.  This is typically referred to as lazy loading.  This is actually a rabbit hole that you can go very deep into exploring how to optimize page load times, but it's not for us.</span></p><p>&nbsp;</p><h3><a name="album-art" class="md-header-anchor"></a><span>/album-art/</span></h3><p><span>images are going to have the format </span><code>/album-art/5c3cf2ee3494e2da71dcf26303202ec491b26213.jpg</code></p><p><span>To service a request for the above file we will check the </span><code>/album-art/</code><span> directory for a file with that filename and if available, pipe the result back to the user.</span></p><ul><li><span>In the previous examples we can be confident that the images will exist, but this is not the case for this example.  The standard way to respond to request for files that don't exist is to send a 404 status code.</span></li></ul><p><img src="./a4_description_files/008edit.PNG" referrerpolicy="no-referrer" alt="008edit"></p><p><span>The </span><code>on('ready')</code><span> event is used to ensure that traffic that experiences a 404 does not continue to flow down and  send a response.</span></p><p><span>I've already created two test image inside album-art.  Restart the server and in a browser navigate to  </span><code>localhost:3000/album-art/test1.jpg</code><span> and </span><code>localhost:3000/album-art/test2.jpg</code><span> and ensure that you see the images.</span></p><p><span>Then navigate to </span><code>localhost:3000/album-art/does-not-exist.jpg</code><span> and ensure you are getting a 404 Not Found message.</span></p><h3><a name="search-part-1" class="md-header-anchor"></a><span>/search (part 1)</span></h3><p><span>When the end-user fills out the form from </span><code>/</code><span>, the data will be appended to the URL as a query string.</span></p><p><a href="https://nodejs.org/api/url.html" target="_blank" class="url">https://nodejs.org/api/url.html</a></p><p><span>The chart on this page shows the structure of the URL.  The </span><code>url</code><span> library will be helpful here.  It allows you to input a URL and using the </span><code>parse()</code><span> method break it up into useful components.</span></p><ol start=""><li><span>Print the string </span><code>artist</code><span> to console</span></li></ol><p><a href="https://nodejs.org/api/url.html#url_url_parse_urlstring_parsequerystring_slashesdenotehost" target="_blank" class="url">https://nodejs.org/api/url.html#url_url_parse_urlstring_parsequerystring_slashesdenotehost</a></p><p><span>Hint: The second option argument </span><code>parseQueryString</code><span> makes this much easier</span></p><p>&nbsp;</p><p><img src="./a4_description_files/009edit.PNG" referrerpolicy="no-referrer" alt="009edit"></p><p>&nbsp;</p><h2><a name="else" class="md-header-anchor"></a><span>else</span></h2><p><span>Send a 404 Not Found response</span></p><p>&nbsp;</p><h2><a name="using-a-rest-api" class="md-header-anchor"></a><span>Using a REST API</span></h2><p><span>A REST API is an interface from which our application can communicate with third party servers to fetch data or request services.  For example the Google Translate API can convert between various languages which can be useful in certain applications.  To interact with it programmatically we use APIs.</span></p><p><span>Spotify is a streaming music platform that offer's music subscriptions, they also have a very beginner friendly API.  </span></p><p><span>This assignment will have students utilize Spotify's API to lookup album art related to a search term and display results.</span></p><h3><a name="setup-a-spotify-account" class="md-header-anchor"></a><span>Setup a Spotify Account</span></h3><ol start=""><li><p><span>You need a Spotify account to use the API, if you don't have one or have concerns about privacy you can create a new one (free accounts work fine)</span></p><p><a href="https://www.spotify.com/"><span>https://www.spotify.com</span></a></p></li><li><p><span>Navigate to the developer dashboard</span></p><p><a href="https://developer.spotify.com/dashboard/"><span>https://developer.spotify.com/dashboard/</span></a></p></li><li><p><span>Click Create an App</span></p><p><span>	</span><span>Name: </span><code>CS355 Album Art Search App</code></p><p><span>	</span><span>Description: </span><code>Learning Spotify API 1 - Client Credentials Grant</code></p><p><span>	</span><span>What are you building? </span></p><p><span>	</span><span>Choose </span><code>I don't know</code><span>  , </span><code>Next</code><span> , Check all the boxes, and </span><code>Submit</code></p></li><li><p><span>Click on the project to find your credentials.</span></p><p><img src="./a4_description_files/credentials.PNG" referrerpolicy="no-referrer" alt="credentials"></p></li><li><p><span>Client ID is the identifier for your application</span></p></li><li><p><span>Client Secret is your application's password</span></p></li></ol><p>&nbsp;</p><h3><a name="authentication" class="md-header-anchor"></a><span>Authentication</span></h3><ol start=""><li><p><span>We will store credentials in a json file inside </span><code>/auth/</code><span>.  Be careful to not share this file as it allows anyone who has it to impersonate your application.  Spotify's API is free, but for billed API's like AWS, accidentally publishing your client secret can be an extremely expensive  mistake.</span></p><blockquote><p><em><span>Accidentally</span></em><span> pushing API keys to GitHub can be an </span><em><span>Expensive/Stressful Lesson</span></em><span>: </span></p><p><span>A group of bitcoin miners evidently ran a script to find client secrets for servers on GitHub and took control of the AWS account.  After just one week of the account being compromised, the monthly bill was $285,000!</span></p><p><a href="https://www.quora.com/My-AWS-account-was-hacked-and-I-have-a-50-000-bill-how-can-I-reduce-the-amount-I-need-to-pay" target="_blank" class="url">https://www.quora.com/My-AWS-account-was-hacked-and-I-have-a-50-000-bill-how-can-I-reduce-the-amount-I-need-to-pay</a></p></blockquote><p><span>In the future, I hope to add a section related to protecting your keys using environmental variables, but for now I'll post some resources at the end of this assignment if you want to look further into it.  For now ensure that your keys are centralized into a single location </span><code>/auth/credentials.json</code><span>  and that file never gets shared, use gitignore files if using Git/Github.</span></p><p>&nbsp;</p></li><li><p><span>Open </span><code>/auth/credentials.json</code><span>.  The JSON file should represent an object with </span><code>client_id</code><span> and </span><code>client_secret</code><span> attributes set to be the values Spotify has given us.  Add these values.</span></p><p><span>Use </span><a href="https://jsonlint.com/" target="_blank" class="url">https://jsonlint.com/</a><span> to validate your JSON.  (Pitfalls: JSON requires double quotes for all strings)</span></p><p><span>This is done to avoid hard coding credentials into </span><code>index.js</code></p><p><span>We can import the </span><code>credentials.json</code><span> file by using a require statement.</span></p><p><span>Add the following to your </span><code>index.js</code><span> file</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="javascript"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="javascript"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-def">credentials</span> <span class="cm-operator">=</span> <span class="cm-variable">require</span>(<span class="cm-string">'./auth/credentials.json'</span>);</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre><p><span>This will automatically parse the JSON string into a JavaScript object.</span></p></li><li><p><span>To get Spotify to accept our queries the application needs to identify itself by sending it's client_id and secret.  There are three different types of authorization flows, (Authorization Code, Implicit Grant, and Client Credentials) each which serve a different purpose.  </span></p><p><span>For this assignment we will be using the </span><a href="https://developer.spotify.com/documentation/general/guides/authorization-guide/#client-credentials-flow"><span>"Client Credentials Flow"</span></a></p><p><span>Keep this link open, as I will refer to it as the Spotify Authorization doc.</span></p><p>&nbsp;</p></li></ol><p><span>Client Credential allows us to access resources that are independent of any particular user.  In our example album art does not change from user to user.  In contrast, if we were to try to access a particular Spotify user's personal playlists, we would need to explicitly ask for permission from that user (using either Authorization Code or Implicit Grant).  </span></p><p><span>We should not need to ask for user level permissions for resources that do not belong to the user though (like album art).  Having an API key should be enough.  Most API require developers to register their applications to prevent abuse and monitor usage.</span></p><p><span>   </span></p><h4><a name="testing-the-request" class="md-header-anchor"></a><span>Testing the Request</span></h4><p><span>Debugging HTTPS errors from within Node.js is not a good idea.  Instead there are dedicated tools like Insomnia and Postman.  I'll be stepping through a quick tutorial on how to use Insomnia.</span></p><p><span>   </span><img src="./a4_description_files/010edit.PNG" referrerpolicy="no-referrer" alt="010edit"></p><p><span>   From the main window create a New Request, call it Spotify and change the request type to POST</span></p><blockquote><p><span>The request is sent to the </span><code>/api/token</code><span> endpoint of the Accounts service:</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">POST https://accounts.spotify.com/api/token</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre><p><span>The body of this POST request must contain the following parameters encoded in </span><code>application/x-www-form-urlencoded</code><span> as defined in the OAuth 2.0 specification:</span></p><figure><table><thead><tr><th><span>REQUEST BODY PARAMETER</span></th><th><span>VALUE</span></th></tr></thead><tbody><tr><td><span>grant_type</span></td><td><em><span>Required.</span></em><span>  Set it to </span><code>client_credentials</code><span>.</span></td></tr></tbody></table></figure><p><span>-Spotify Authorization doc</span></p></blockquote><p><span>   First add Spotify's API endpoint into the URL bar on top.</span></p><p><span>   The OAuth 2.0 specification dictates that the body type will be </span><code>application/x-www-form-urlencoded</code><span>, this means the body should be interpreted as Form URL Encoded.  Click the arrow next to Body and click Form URL Encoded.</span></p><p><span>   This will add a new value to Header </span><code>Content-Type</code><span> : </span><code>application/x-www-form-urlencoded</code></p><p><span>   Next in the Form Body we will add </span><code>grant_type</code><span> : </span><code>client_credential</code></p><p><span>   </span><img src="./a4_description_files/011edit.PNG" referrerpolicy="no-referrer" alt="011edit"></p><p><span>   Next the Header</span></p><blockquote><p><span>The header of this POST request must contain the following parameter:</span></p><figure><table><thead><tr><th><span>HEADER PARAMETER</span></th><th><span>VALUE</span></th></tr></thead><tbody><tr><td><span>Authorization</span></td><td><em><span>Required.</span></em><span>  Base 64 encoded string that contains the client ID and client secret key. The field must have the format: Authorization: </span><code>Basic &lt;base64 encoded client_id:client_secret&gt;</code></td></tr></tbody></table></figure><p><span>-Spotify Authorization doc</span></p></blockquote><p><span>This one is harder because while we do have the </span><code>client_id</code><span> and </span><code>client_secret</code><span> we need to combine them into a single base64 encoded value.  I've already written a script to do this.</span></p><p><span>   </span><img src="./a4_description_files/012edit.PNG" referrerpolicy="no-referrer" alt="012edit"></p><p><span>Type it up into a new script file, add your client id and secret, and run it to get the value required for Authorization.</span></p><p><span>   </span><img src="./a4_description_files/013edit.PNG" referrerpolicy="no-referrer" alt="013edit"></p><p><span>Click send and you should get an </span><code>access_token</code><span> which can be used to query other endpoints for data.  This token is valid for 1 hour, and after that a new token must be requested.  In the response go to Timeline and scroll down to see the full request.  Notice the purple line</span></p><blockquote><p><span>grant_type=client_credentials</span></p></blockquote><p><span>This is the Body information represented as </span><code>application/x-www-form-urlencoded</code><span> data</span></p><p><span>The next steps will have students to go through this exact process from within Node.js.</span></p><p>&nbsp;</p><ol start="3"><li><p><span>We need two objects </span><code>post_data</code><span> representing our Form Body Data containing </span><code>grant_type</code><span>  and a Headers object containing </span><code>Content-Type</code><span> and </span><code>Authorization</code></p><p><span>Create two objects </span><code>post_data</code><span> and </span><code>headers</code><span> with these properties.</span></p><p><span>In the </span><code>headers</code><span> object add an additional property </span><code>"Content-Length"</code><span> and set it to be the calculated value </span><code>post_data.length</code><span>.  (That's why I requested </span><code>post_data</code><span> be created first)  This value was automatically added by insomnia and I believe Node.js will also automatically add in when it knows the length, but it's better to be explicit.</span></p><p><img src="./a4_description_files/014edit.PNG" referrerpolicy="no-referrer" alt="014edit"></p><p><span>Use the previous code to generate the base64 encoded string.  Don't hard code it in as base64 can easily be decoded revealing your</span></p><p>&nbsp;</p></li><li><p><span>The authentication server only accepts HTTPS POST requests to the API endpoint</span></p><p><code>https://accounts.spotify.com/api/token</code></p></li><li><p><span>Include the </span><code>https</code><span> library if you haven't done so already.  (We need both </span><code>http</code><span> and </span><code>https</code><span> libraries)  </span><code>http</code><span> for our server (so we don't have to deal with certificates) and </span><code>https</code><span> so we can make requests as clients to API's.</span></p><p>&nbsp;</p></li><li><p><code>post_data</code><span> needs to be in querystring format.  Currently it is in JS object format (eg. </span><code>foo=bar&amp;baz=qux</code><span>)</span></p><blockquote><p><a href="https://en.wikipedia.org/wiki/Query_string" target="_blank" class="url">https://en.wikipedia.org/wiki/Query_string</a></p></blockquote><p><span>There is a built in library </span><code>querystring</code><span> with a method </span><code>stringify</code><span> that can convert an object into a querystring.</span></p><p><a href="https://nodejs.org/api/querystring.html#querystring_querystring_stringify_obj_sep_eq_options" target="_blank" class="url">https://nodejs.org/api/querystring.html#querystring_querystring_stringify_obj_sep_eq_options</a></p><p><span>Convert </span><code>post_data</code><span> to a querystring using this method</span></p><p>&nbsp;</p></li><li><p><span>To create a POST request use the </span><code>https.request()</code><span> method we need to utilize all three arguments</span></p><p><a href="https://nodejs.org/api/https.html#https_https_request_url_options_callback" target="_blank" class="url">https://nodejs.org/api/https.html#https_https_request_url_options_callback</a></p><p><span>Look through the options here</span></p><p><a href="https://nodejs.org/api/http.html#http_http_request_options_callback" target="_blank" class="url">https://nodejs.org/api/http.html#http_http_request_options_callback</a></p><p><span>Create an object </span><code>options</code><span> with properties </span><code>method</code><span> set to </span><code>POST</code><span>, and </span><code>headers</code><span> set to be the headers object we created earlier.</span></p><p>&nbsp;</p></li><li><p><span>Create the request using </span><code>http.request</code><span> supplying it relevant data.  The last argument the </span><code>authentication_res</code><span> is a callback that is triggered when we receive a response.</span></p><p>&nbsp;</p><p><img src="./a4_description_files/auth-req.PNG" referrerpolicy="no-referrer" alt="auth-req"></p><p><span>The request is not sent until </span><code>req.end()</code><span> is called.  For post requests the </span><code>querystring</code><span> is placed into the body of the request.</span></p></li><li><p><span>Write the function </span><code>received_authentication</code><span> to catch the results of the authentication request and proceed to the next phase of our application.  In the previous example I pass in several variables from within the </span><code>http.createServer</code><span> scope as I want to flatten my code structure a bit. We're going to be working in callback hell soon, functions are a basic way to reduce the mental burden of juggling all these callbacks.</span></p><p><img src="./a4_description_files/received_auth.PNG" referrerpolicy="no-referrer" alt="received_auth.PNG"></p><p><span>Here's partial code to get you around some of the difficulties with processing streams, but make sure you internalize the code structure as it will be repeated multiple times in this assignment.  A response (</span><code>authentication_res</code><span> and </span><code>res</code><span>) are stream type objects and need to processed chunk by chunk.</span></p><p><span>Ignore the two functions </span><code>create_cache</code><span> and </span><code>create_search_req</code><span> for now.  You can write an empty function and fill them in later.</span></p><p><span>The data returned is a JSON encoded string, use </span><code>JSON.parse()</code><span> to convert it back to a JS object and print it to console to examine the structure.  </span></p><p><img src="./a4_description_files/token.PNG" referrerpolicy="no-referrer" alt="token"></p></li><li><p><span>Upon successfully sending the data, the response will include an </span><code>access_token</code><span>.  With this </span><code>access_token</code><span> the  Spotify API can be used for client credential requests.  Each query should include the </span><code>access_token</code><span> in the request.  If it's a POST request include the querystring in the body.  If it's a GET request, include the querystring in the path.</span></p><blockquote><p><span>Note this is how Spotify does authentication, not how all REST API's perform authentication. OAuth 2.0 is not a protocol, but a framework, implementation specifications are left to the API developer.  This means you as an application level developer need to learn the authentication specifications for each new REST API you want to include in your application.</span></p></blockquote></li></ol><p><strong><span>[35% Complete]</span></strong></p><p>&nbsp;</p><h3><a name="token-expiration-and-caching" class="md-header-anchor"></a><span>Token Expiration and Caching</span></h3><p><span>This token expires in 3600 seconds after which a new token needs to be requested.  To reduce the overhead of requesting a new token every time, we will cache this token.</span></p><p><span>Caching is a term for saving previous requests and reusing the data as long as it is still relevant.  It is important when working with third party API's as most will have a rate limit to control how many requests can be made, and many paid API's will charge it's users per request.</span></p><p><span>The token generated is valid for 3600 seconds so we can save it for future requests instead of creating a new token every time.  There's a problem however, saving 3600 to a file won't work as once it's saved it won't decrease for every second that passes.  Instead calculate and save the </span><strong><span>time</span></strong><span> this token expires, and if the current time is after the saved value, fetch a new token.</span></p><p><span>The censored block above creates a new property </span><code>spotify_auth.expiration</code><span> and sets it to be one hour from </span><code>request_sent_time</code><span> which was created earlier for this sole purpose. </span></p><p><span>I used the following methods to generate the expiration property:</span></p><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" class="url">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date</a></p><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/getTime" target="_blank" class="url">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/getTime</a><span> </span>
<span>(This function returns back milliseconds, make sure to convert from seconds)</span></p><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toJSON" target="_blank" class="url">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toJSON</a></p><ol start=""><li><p><span>Generate the </span><code>spotify_auth.expiration</code><span> property and set it to be one hour from </span><code>request_sent_time</code><span> </span></p></li><li><p><span>Write a function </span><code>create_access_token_cache(spotify_auth)</code><span> that writes </span><code>spotify_auth</code><span> to a file </span><code>'./auth/authentication-res.json'</code><span> (Make sure to convert it to a JSON string, you cannot write objects to files)  Hint: </span><code>JSON.stringify()</code><span> will convert objects to JSON encoded strings</span></p></li><li><p><code>fs.writeFile</code><span> is ideal for writing a cache.  </span></p><p><a href="https://nodejs.org/api/fs.html#fs_fs_writefile_file_data_options_callback" target="_blank" class="url">https://nodejs.org/api/fs.html#fs_fs_writefile_file_data_options_callback</a></p><p><span>The task of caching results can be accomplish asynchronously, because it only benefits future requests, the current request does not need the cache in any manner.  This is In contrast to the synchronous methods like </span><code>writeFileSync()</code><span> where we can not proceed until the write operation is completed.</span></p><p><span>You can use my code for checking to see if a cached file exists, but be prepared to write your own for the image cache.</span></p></li></ol><p><img src="./a4_description_files/cache1.PNG" referrerpolicy="no-referrer" alt="cache1"></p><p><span>   In my example </span><code>authentication_cache</code><span> points to the location of the saved cache.</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="javascript"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="javascript"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-def">authentication_cache</span> <span class="cm-operator">=</span> <span class="cm-string">'./auth/authentication-res.json'</span>;</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre><h4><a name="fsexistssyncpath" class="md-header-anchor"></a><span>fs.existsSync(path)</span></h4><p><a href="https://nodejs.org/api/fs.html#fs_fs_existssync_path" target="_blank" class="url">https://nodejs.org/api/fs.html#fs_fs_existssync_path</a></p><h3><a name="cache-independence" class="md-header-anchor"></a><span>Cache Independence</span></h3><p><span>Make sure your code is not dependent on it's cache.  To test this, delete the </span><code>authentication-res.json</code><span> file and run your code.  It should request a new access_token and recreate the file </span><code>authentication-res.json</code><span>.</span></p><p>&nbsp;</p><h3><a name="callback-hell" class="md-header-anchor"></a><span>Callback Hell</span></h3><p><a href="http://callbackhell.com/" target="_blank" class="url">http://callbackhell.com/</a></p><h3><a name="search-part-2" class="md-header-anchor"></a><span>/search (part 2)</span></h3><p><span>Just like the request_authentication phase, the next step creates another request to Spotify's API </span></p><p><span>This time requesting album art related to the users search query</span></p><p><span>Here's the relevant Spotify documentation</span></p><p><a href="https://developer.spotify.com/documentation/web-api/reference/search/search/" target="_blank" class="url">https://developer.spotify.com/documentation/web-api/reference/search/search/</a></p><h4><a name="endpoint" class="md-header-anchor"></a><span>Endpoint</span></h4><p><span>The endpoint is a communication channel that will process requests.  This tells us the protocol and the url that we send our requests to.</span></p><p><span>In this example this is using the </span><code>GET</code><span> method to the URL </span><code>https://api.spotify.com/v1/search</code></p><p><span>Because this is a </span><code>GET</code><span> request and request parameters need to be attached to the URL instead of sent via the body with </span><code>res.end()</code><span> for </span><code>POST</code><span> request.  Because no data is being sent and </span><code>GET</code><span> is the default method we can remove options entirely and use the two argument version of </span><code>https.request(url,callback)</code></p><p><a href="https://nodejs.org/api/https.html#https_https_request_url_options_callback" target="_blank" class="url">https://nodejs.org/api/https.html#https_https_request_url_options_callback</a></p><h4><a name="request-parameters" class="md-header-anchor"></a><span>Request Parameters</span></h4><p><span>Describes how to structure a requests.  In this example we need to supply </span><code>access_token</code><span>, </span><code>q</code><span>, and </span><code>type</code><span>.</span></p><ul><li><code>q</code><span>: would be the artist name the user typed in</span></li><li><code>type</code><span>: hard code this to </span><code>album</code><span> since we are trying to get album art.</span></li></ul><p><span>The request is the similar to the </span><code>request_authentication</code><span> section the key difference being in where the querystring goes between </span><code>GET</code><span> and </span><code>POST</code></p><p><span>You should receive back a larger JSON object this time representing the list of albums that fit the search term.  I used Insomnia with the following settings (pulling the access_token from the </span><code>authentication-res.json</code><span> file)</span></p><p><img src="./a4_description_files/music-data.PNG" referrerpolicy="no-referrer" alt="music-data"></p><p><span>Here's a cleanup version of the Spotify's </span><code>album</code><span> object structure.   We are interested in getting the album art images.  We get back a much larger object though so we need to navigate it's properties after parsing it.</span></p><p><span>The values that we need are the URLs of the album art.  The structure we wind up traversing through is:</span></p><p><code>albums.items[n].images[0].url</code><span>, where </span><code>n</code><span> goes from </span><code>0</code><span> to </span><code>albums.length</code><span>.</span></p><p><span>Download and display up to 20 results (default limit) </span></p><p><strong><span>[55% Complete]</span></strong></p><h3><a name="downloading-the-images" class="md-header-anchor"></a><span>Downloading the Images</span></h3><p><span>We need to download multiple images asynchronously.  (Refer to assignment-01 file system example for how to process multiple files asynchronously)  </span></p><p><span>Create a counter to keep track of how many images have finished downloading and once that number matches total albums, move to serving a webpage.</span></p><p><span>For each image create a request to download the image at the url specified.</span></p><p><img src="./a4_description_files/album-img.PNG" referrerpolicy="no-referrer" alt="album-img"></p><p><span>I used </span><code>https.get()</code><span> for this one, but you can use </span><code>https.request()</code><span> if you prefer.</span></p><p><a href="https://nodejs.org/api/https.html#https_https_get_options_callback" target="_blank" class="url">https://nodejs.org/api/https.html#https_https_get_options_callback</a></p><p><span>For writing the image </span><code>{'encoding':null}</code><span> prevents the system from encoding the data in </span><code>utf8</code><span> and the event  </span><code>finish</code><span> is unique to Write Streams.  Read Streams use the event </span><code>end</code><span>.</span></p><p><a href="https://stackoverflow.com/a/34310963/992856" target="_blank" class="url">https://stackoverflow.com/a/34310963/992856</a></p><p>&nbsp;</p><h3><a name="serving-a-webpage" class="md-header-anchor"></a><span>Serving a Webpage</span></h3><p><span>After a write stream completes the </span><code>finish</code><span> event fires, increasing </span><code>downloaded_images</code><span> by one.  When it reaches </span><code>albums.length</code><span> call a function generate_webpage </span></p><p><span>The webpage for the results should display a heading (</span><code>h1</code><span>) with the text </span><code>Search Results</code><span> followed by the search query sent by the user.  It will then display an image (</span><code>img</code><span>) for each album art returned.</span></p><p><span>In my </span><code>generate_webpage()</code><span> function I collected all the image paths from the download_album_art phase into an array of strings, applied a map function to wrap the results in </span><code>img</code><span> tags and then applied the </span><code>Array.prototype.join()</code><span> method to combine them.</span></p><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/join" target="_blank" class="url">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/join</a></p><p><span>Use </span><code>res.end()</code><span> to send the generated webpage to the client.</span></p><p><span>When the webpage loads it will make subsequent requests for the image in the image tag which we took care of earlier.  If the </span><code>/album-art/</code><span> path is setup correctly it should serve images which are then embedded into the webpage.</span></p><p><strong><span>[70% Complete]</span></strong></p><h3><a name="caching-images" class="md-header-anchor"></a><span>Caching Images</span></h3><p><span>Before downloading an image check your </span><code>/album_art/</code><span> directory to see if you have an image with the same filename and if so serve that instead of making a request to the server.</span></p><p><span>Use </span><code>fs.access()</code><span> to test for file existence.</span></p><p><a href="https://nodejs.org/api/fs.html#fs_fs_access_path_mode_callback" target="_blank" class="url">https://nodejs.org/api/fs.html#fs_fs_access_path_mode_callback</a></p><h2><a name="analyzing-the-traffic" class="md-header-anchor"></a><span>Analyzing the Traffic</span></h2><p><span>Using </span><a href="https://sequencediagram.org/" target="_blank" class="url">https://sequencediagram.org/</a><span> create three sequence diagrams analyzing the Layer 5 traffic (Application Layer) for the following scenarios:</span></p><p><span>Do not include TCP level information like handshakes, SYNs or ACKs.</span></p><ol start=""><li><span>The first request to your server for artist A.</span></li><li><span>A second request (from the same user within one hour) to your server for artist B</span></li><li><span>A third request (from the same user within the same one hour) to your server for artist B again.</span></li></ol><p><span>There should be three entities, Client, Server, and Spotify API  </span></p><p><span>Template for first request:</span></p><p><img src="./a4_description_files/sequence-example.svg" referrerpolicy="no-referrer" alt="sequence-example"></p><p><span>Make sure to use your own applications </span><code>client_id</code><span> and not mine</span></p><p><span>For large bodies of text use filename (eg. </span><code>index.html</code><span>) if available or [placeholder] if unavailable</span></p><h2><a name="performance-improvements" class="md-header-anchor"></a><span>Performance Improvements</span></h2><p><span>We've cached the access_token and the album art images as part of this assignment.</span></p><p><span>There is something else we can cache, although this last cache has drawbacks.  Explain what this last cache is and the drawbacks associated with caching this data.  Can we mitigate against this drawback?  (make less painful)</span></p><p><span>Submit this as a paragraph of text in the Google form under </span><code>Performance Improvements</code><span>.</span></p><p><span>For 10 bonus points implement this cache and show using an additional sequence diagram how it improves upon the current design.</span></p><h2><a name="testing" class="md-header-anchor"></a><span>Testing</span></h2><p><span>Delete all cached album art and </span><code>authentication-res.json</code><span> </span></p><p><span>Search for the following terms:</span></p><ul><li><span>Taylor Swift</span></li><li><span>P!nk</span></li><li><span>Hear'Say</span></li><li><span>AC/DC</span></li></ul><p><span>Create a </span><code>console.log()</code><span> message inside the callback for each </span><code>https.request()</code><span> / </span><code>https.get()</code><span> make sure those messages are </span><strong><span>NOT</span></strong><span> being printed if you are using a cached resource (whether it be </span><code>access_token</code><span>, image, or something else).</span></p><h2><a name="submission" class="md-header-anchor"></a><span>Submission</span></h2><p><span>Place all traffic diagrams inside your </span><code>A04-########</code><span> directory.  Name them </span><code>first</code><span>, </span><code>second</code><span>, </span><code>third</code><span>, and </span><code>bonus</code><span> respectively.  I prefer the svg file format, but png/jpg is fine as well.</span></p><p><span>Ensure all the comment fields in each template file are filled out describing the relevant code.</span>
<span>Comments can either be on top, or inside the code, but students will be penalized for not having any.</span></p><p>&nbsp;</p><p><a href="https://docs.google.com/forms/d/e/1FAIpQLSc7Wme6kysFjrVNJ8oNpFS09dHcpHWxMMZ7HAWOE4toT13kyg/viewform?usp=sf_link"><span>Standard Submission</span></a><span>			</span><a href="https://docs.google.com/forms/d/e/1FAIpQLSf9Vsu8wyywsniuee5GRh8XDmuPJ6kiAPe1NIWrdLHnA41SGQ/viewform?usp=sf_link"><span>Late Submission</span></a></p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><h2><a name="further-reading" class="md-header-anchor"></a><span>Further Reading</span></h2><p><span>Environmental Variables</span></p><p><a href="https://github.com/dwyl/learn-environment-variables" target="_blank" class="url">https://github.com/dwyl/learn-environment-variables</a></p></div>

</body></html>